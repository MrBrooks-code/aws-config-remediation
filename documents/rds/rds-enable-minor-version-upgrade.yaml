schemaVersion: '0.3'
description: Enable automatic minor version upgrades on an RDS instance
assumeRole: '{{ AutomationAssumeRole }}'
parameters:
  DbInstanceId:
    type: String
    description: RDS DB instance identifier
  AutomationAssumeRole:
    type: String
    description: IAM role for automation execution
mainSteps:
  - name: EnableMinorVersionUpgrade
    action: 'aws:executeAwsApi'
    inputs:
      Service: rds
      Api: ModifyDBInstance
      DBInstanceIdentifier: '{{ DbInstanceId }}'
      AutoMinorVersionUpgrade: true
      ApplyImmediately: false
    description: Enable automatic minor version upgrades
    isEnd: true
